{"version":3,"file":"js/317.a584dec5.js","mappings":"kMACOA,MAAM,a,GAEJA,MAAM,iB,GAGJA,MAAM,0B,GACXC,EAAAA,EAAAA,GASQ,SATDD,MAAM,cAAY,EACvBC,EAAAA,EAAAA,GAOK,YANHA,EAAAA,EAAAA,GAAuB,MAAnBC,MAAM,OAAM,OAChBD,EAAAA,EAAAA,GAAa,UAAT,SACJA,EAAAA,EAAAA,GAAuB,MAAnBC,MAAM,OAAM,OAChBD,EAAAA,EAAAA,GAAuB,MAAnBC,MAAM,OAAM,OAChBD,EAAAA,EAAAA,GAAyB,MAArBC,MAAM,OAAM,SAChBD,EAAAA,EAAAA,GAAuB,MAAnBC,MAAM,OAAM,UAPpB,G,SAiBsCF,MAAM,gB,SACzBA,MAAM,c,GAGdA,MAAM,a,gLA3BrBG,EAAAA,EAAAA,IAiEM,MAjEN,EAiEM,EAhEJC,EAAAA,EAAAA,IAAuDC,EAAA,CAA7CC,OAAQC,EAAAA,UAAY,UAAS,MAAvC,oBACAN,EAAAA,EAAAA,GAEM,MAFN,EAEM,EADJA,EAAAA,EAAAA,GAAkF,UAA1ED,MAAM,eAAeQ,KAAK,SAAUC,QAAK,eAAEC,EAAAA,WAAS,KAAQ,YAEtET,EAAAA,EAAAA,GAyCQ,QAzCR,EAyCQ,CAxCNU,GAUAV,EAAAA,EAAAA,GA6BQ,6BA5BNE,EAAAA,EAAAA,IA2BKS,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IA3BiBN,EAAAA,UAAXO,K,WAAXX,EAAAA,EAAAA,IA2BK,MA3B4BY,IAAKD,EAAQE,KAAOhB,OAAK,2BAAsBc,EAAQG,cAAxF,EACEhB,EAAAA,EAAAA,GAA+B,WAAAiB,EAAAA,EAAAA,IAAxBJ,EAAQK,UAAQ,IACvBlB,EAAAA,EAAAA,GAA4B,WAAAiB,EAAAA,EAAAA,IAArBJ,EAAQM,OAAK,IACpBnB,EAAAA,EAAAA,GAAsD,WAAAiB,EAAAA,EAAAA,IAA/CG,EAAAA,SAASC,SAASR,EAAQS,eAAY,IAC7CtB,EAAAA,EAAAA,GAA+C,WAAAiB,EAAAA,EAAAA,IAAxCG,EAAAA,SAASC,SAASR,EAAQU,QAAK,IACtCvB,EAAAA,EAAAA,GAGK,WAFSa,EAAQG,aAAAA,EAAAA,EAAAA,OAApBd,EAAAA,EAAAA,IAA8D,OAA9D,EAAqD,SAArD,WACAA,EAAAA,EAAAA,IAA0C,OAA1C,EAAgC,WAElCF,EAAAA,EAAAA,GAiBK,YAhBHA,EAAAA,EAAAA,GAeM,MAfN,EAeM,EAdJA,EAAAA,EAAAA,GAMS,UALPO,KAAK,SACLR,MAAM,iCACLS,QAAK,GAAEC,EAAAA,WAAS,EAAQI,IAC1B,OAED,EAAAW,IACAxB,EAAAA,EAAAA,GAMS,UALPO,KAAK,SACLR,MAAM,gCACLS,QAAK,GAAEC,EAAAA,aAAaI,IACtB,OAED,EAAAY,QAxBN,iBA+BJtB,EAAAA,EAAAA,IAGiBuB,EAAA,CAFdC,MAAOrB,EAAAA,WACPsB,YAAYnB,EAAAA,aAFf,iCAKAN,EAAAA,EAAAA,IAKe0B,EAAA,CAJd,SAAQvB,EAAAA,MACRO,QAASP,EAAAA,YACTwB,gBAAgBrB,EAAAA,cACjBsB,IAAI,gBAJJ,gDAOA5B,EAAAA,EAAAA,IAIW6B,EAAA,CAHVjB,KAAMT,EAAAA,YACN2B,UAAUxB,EAAAA,WACXsB,IAAI,YAHJ,+B,gCC3DJG,GAAG,eACHH,IAAI,QACJhC,MAAM,aACNoC,SAAS,KACT,kBAAgB,oBAChB,cAAY,OACZC,KAAK,U,GACErC,MAAM,yB,GACJA,MAAM,0B,GACJA,MAAM,mC,GACLmC,GAAG,oBAAoBnC,MAAM,e,uBAIjCC,EAAAA,EAAAA,GAKU,UAJRO,KAAK,SACLR,MAAM,YACN,kBAAgB,QAChB,aAAW,SAJb,S,GAOGA,MAAM,c,GACJA,MAAM,O,GACJA,MAAM,Y,GACJA,MAAM,Q,GACJA,MAAM,Q,GACTC,EAAAA,EAAAA,GAAuD,SAAhDqC,IAAI,WAAWtC,MAAM,cAAa,UAAM,G,aAW9CA,MAAM,Q,GACTC,EAAAA,EAAAA,GAAa,UAAT,QAAI,G,iDAyCPD,MAAM,Y,GACJA,MAAM,Q,GACTC,EAAAA,EAAAA,GAAgD,SAAzCqC,IAAI,QAAQtC,MAAM,cAAa,MAAE,G,GAUrCA,MAAM,O,GACJA,MAAM,iB,GACTC,EAAAA,EAAAA,GAAmD,SAA5CqC,IAAI,WAAWtC,MAAM,cAAa,MAAE,G,GASxCA,MAAM,iB,GACTC,EAAAA,EAAAA,GAAgD,SAAzCqC,IAAI,QAAQtC,MAAM,cAAa,MAAE,G,GAWvCA,MAAM,O,GACJA,MAAM,iB,GACTC,EAAAA,EAAAA,GAAuD,SAAhDqC,IAAI,eAAetC,MAAM,cAAa,MAAE,G,GAU5CA,MAAM,iB,GACTC,EAAAA,EAAAA,GAAgD,SAAzCqC,IAAI,QAAQtC,MAAM,cAAa,MAAE,G,GAW5CC,EAAAA,EAAAA,GAAM,mB,GAEDD,MAAM,Q,GACTC,EAAAA,EAAAA,GAAwD,SAAjDqC,IAAI,cAActC,MAAM,cAAa,QAAI,G,GAU7CA,MAAM,Q,IACTC,EAAAA,EAAAA,GAAoD,SAA7CqC,IAAI,UAAUtC,MAAM,cAAa,QAAI,G,IAUzCA,MAAM,Q,IACJA,MAAM,c,IASTC,EAAAA,EAAAA,GAEC,SAFMD,MAAM,mBAAmBsC,IAAI,cACjC,QAAI,G,IAOZtC,MAAM,gB,IACTC,EAAAA,EAAAA,GAMS,UALPO,KAAK,SACLR,MAAM,4BACN,kBAAgB,SACjB,QAED,G,2CA5LRG,EAAAA,EAAAA,IAmMM,MAnMN,EAmMM,EA3LJF,EAAAA,EAAAA,GA0LM,MA1LN,EA0LM,EAzLJA,EAAAA,EAAAA,GAwLM,MAxLN,EAwLM,EAvLJA,EAAAA,EAAAA,GAWM,MAXN,EAWM,EAVJA,EAAAA,EAAAA,GAGK,KAHL,EAGK,CAFSsC,EAAAA,QAAAA,EAAAA,EAAAA,OAAZpC,EAAAA,EAAAA,IAA8B,OAAAqC,EAAX,WAAnB,WACArC,EAAAA,EAAAA,IAAwB,OAAAsC,EAAX,WAEfhB,KAOFxB,EAAAA,EAAAA,GA8JM,MA9JN,EA8JM,EA7JJA,EAAAA,EAAAA,GA4JM,MA5JN,EA4JM,EA3JJA,EAAAA,EAAAA,GAuDM,MAvDN,EAuDM,EAtDJA,EAAAA,EAAAA,GAYM,MAZN,EAYM,EAXJA,EAAAA,EAAAA,GASO,MATP,EASO,CARLyC,GAQK,SAPLzC,EAAAA,EAAAA,GAME,SALAkC,GAAG,WACH3B,KAAK,OACLR,MAAM,eACN2C,YAAY,U,qCACHpC,EAAAA,YAAYqC,SAAQC,IAL/B,iBAKWtC,EAAAA,YAAYqC,eAGzB3C,EAAAA,EAAAA,GAA4D,OAAvDD,MAAM,YAAa8C,IAAKvC,EAAAA,YAAYqC,SAAUG,IAAI,IAAvD,aAEF9C,EAAAA,EAAAA,GAwCM,MAxCN,EAwCM,CAvCJ+C,EACWC,MAAMC,QAAQ3C,EAAAA,YAAY4C,aAA1B,WAAXhD,EAAAA,EAAAA,IAqCM,MAAAiD,EAAA,gBApCJjD,EAAAA,EAAAA,IAeWS,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAdYN,EAAAA,YAAY4C,WAAS,CAAlCE,EAAKtC,M,6BACPA,GAAG,WAETd,EAAAA,EAAAA,GAKE,SAJAO,KAAK,OACLR,MAAM,eACN2C,YAAY,U,yBACHpC,EAAAA,YAAY4C,UAAUpC,GAAG8B,GAJpC,iBAIWtC,EAAAA,YAAY4C,UAAUpC,OAEjCd,EAAAA,EAAAA,GAIE,OAHAD,MAAM,YACL8C,IAAKvC,EAAAA,YAAY4C,UAAUpC,GAC5BgC,IAAI,IAHN,WARS,OAFX,OAkB8BxC,EAAAA,YAAY4C,UAAUG,QAA8B/C,EAAAA,YAAY4C,UAAU5C,EAAAA,YAAY4C,UAAUG,OAAM,KAAlD,WADlFnD,EAAAA,EAAAA,IAUS,U,MALPK,KAAK,SACLR,MAAM,wBACLS,QAAK,eAAEF,EAAAA,YAAY4C,UAAUI,KAAI,MACnC,aARD,WAWApD,EAAAA,EAAAA,IAOS,U,MALPK,KAAK,SACLR,MAAM,+BACLS,QAAK,eAAEF,EAAAA,YAAY4C,UAAUK,QAC/B,iBAlCH,oBAwCJvD,EAAAA,EAAAA,GAkGM,MAlGN,EAkGM,EAjGJA,EAAAA,EAAAA,GASM,MATN,EASM,CARJwD,GAQI,SAPJxD,EAAAA,EAAAA,GAME,SALAkC,GAAG,QACH3B,KAAK,OACLR,MAAM,eACN2C,YAAY,Q,qCACHpC,EAAAA,YAAYa,MAAKyB,IAL5B,iBAKWtC,EAAAA,YAAYa,YAIzBnB,EAAAA,EAAAA,GAqBM,MArBN,EAqBM,EApBJA,EAAAA,EAAAA,GASM,MATN,EASM,CARJyD,GAQI,SAPJzD,EAAAA,EAAAA,GAME,SALAkC,GAAG,WACH3B,KAAK,OACLR,MAAM,eACN2C,YAAY,Q,qCACHpC,EAAAA,YAAYY,SAAQ0B,IAL/B,iBAKWtC,EAAAA,YAAYY,eAGzBlB,EAAAA,EAAAA,GASM,MATN,EASM,CARJ0D,GAQI,SAPJ1D,EAAAA,EAAAA,GAME,SALAkC,GAAG,OACH3B,KAAK,OACLR,MAAM,eACN2C,YAAY,Q,qCACHpC,EAAAA,YAAYqD,KAAIf,IAL3B,iBAKWtC,EAAAA,YAAYqD,aAK3B3D,EAAAA,EAAAA,GAuBM,MAvBN,EAuBM,EAtBJA,EAAAA,EAAAA,GAUM,MAVN,EAUM,CATJ4D,GASI,SARJ5D,EAAAA,EAAAA,GAOE,SANAkC,GAAG,eACH3B,KAAK,SACLsD,IAAI,IACJ9D,MAAM,eACN2C,YAAY,Q,qCACIpC,EAAAA,YAAYgB,aAAYsB,IAN1C,iBAMkBtC,EAAAA,YAAYgB,kBAAAA,EAAAA,C,QAA5B,SAGJtB,EAAAA,EAAAA,GAUM,MAVN,EAUM,CATJ8D,GASI,SARJ9D,EAAAA,EAAAA,GAOE,SANAkC,GAAG,QACH3B,KAAK,SACLsD,IAAI,IACJ9D,MAAM,eACN2C,YAAY,Q,qCACIpC,EAAAA,YAAYiB,MAAKqB,IANnC,iBAMkBtC,EAAAA,YAAYiB,WAAAA,EAAAA,C,QAA5B,UAINwC,GAEA/D,EAAAA,EAAAA,GAUM,MAVN,EAUM,CATJgE,GASI,SARJhE,EAAAA,EAAAA,GAOW,YANTkC,GAAG,cACH3B,KAAK,OACLR,MAAM,eACN2C,YAAY,U,qCACHpC,EAAAA,YAAY2D,YAAWrB,IACjC,mBACD,YAFWtC,EAAAA,YAAY2D,kBAIzBjE,EAAAA,EAAAA,GAUM,MAVN,EAUM,CATJkE,IASI,SARJlE,EAAAA,EAAAA,GAOW,YANTkC,GAAG,cACH3B,KAAK,OACLR,MAAM,eACN2C,YAAY,U,qCACHpC,EAAAA,YAAY6D,QAAOvB,IAC7B,mBACD,YAFWtC,EAAAA,YAAY6D,cAIzBnE,EAAAA,EAAAA,GAcM,MAdN,GAcM,EAbJA,EAAAA,EAAAA,GAYM,MAZN,GAYM,WAXJA,EAAAA,EAAAA,GAOE,SANAkC,GAAG,aACHnC,MAAM,mBACNQ,KAAK,WACJ,aAAY,EACZ,cAAa,E,uCACLD,EAAAA,YAAYU,WAAU4B,IANjC,iBAMWtC,EAAAA,YAAYU,cAEvBoD,cAQVpE,EAAAA,EAAAA,GAWM,MAXN,GAWM,CAVJqE,IAOArE,EAAAA,EAAAA,GAES,UAFDO,KAAK,SAASR,MAAM,kBAAmBS,QAAK,iBAAEY,EAAAA,MAAK,iBAAmBd,EAAAA,eAAc,eA7LpG,K,eAyMA,IACEgE,MAAO,CACLzD,QAAS,CACPN,KAAMgE,OACNC,UACE,MAAO,KAGXC,MAAO,CACLlE,KAAMmE,QACNF,SAAS,IAGbG,OACE,MAAO,CACLC,YAAa,CACX1B,UAAW,MAIjB2B,MAAO,CAAC,kBACRC,OAAQ,CAACC,GAAAA,GACTC,MAAO,CACLnE,UACEoE,KAAKL,YAAcK,KAAKpE,W,SC7N9B,MAAMqE,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAAS,MAEpE,U,WFqEA,MAAMC,GAASC,0CACTC,GAAUD,SAEhB,QAEEE,WAAY,CACVC,cADU,IAEVC,aAFU,GAGVC,SAAAA,GAAAA,GAEFd,OACE,MAAO,CAELe,SAAU,GAEVC,WAAY,GACZf,YAAa,GACbH,OAAO,EACPmB,WAAW,EACXC,YAAa,IAGjBC,OAAQ,CAAC,WACTC,QAAS,CACPC,YAAaH,EAAc,GACzBZ,KAAKY,YAAcA,EACnB,MAAMI,EAAO,GAAEd,UAAcE,0BAA+BQ,IAC5DZ,KAAKW,WAAY,EACjBX,KAAKiB,MACFC,IAAIF,GACJG,MAAMC,IACLpB,KAAKS,SAAWW,EAAI1B,KAAKe,SACzBT,KAAKU,WAAaU,EAAI1B,KAAKgB,WAC3BV,KAAKW,WAAY,KAElBU,OAAOC,IACNtB,KAAKW,WAAY,EACjBX,KAAKuB,kBAAkBD,EAAIE,SAAU,YAG3CC,UAAWjC,EAAO1D,GACZ0D,GACFQ,KAAKL,YAAc,CACjB1B,UAAW,IAEb+B,KAAKR,OAAQ,EACbQ,KAAK0B,MAAMC,aAAaF,cAGxBzB,KAAKL,YAAc,CAAE1B,UAAW,MAAOnC,GACvCkE,KAAKR,OAAQ,EACbQ,KAAK0B,MAAMC,aAAaF,cAG5BG,aAAc9F,GACZkE,KAAKL,YAAc,IAAK7D,GACxBkE,KAAK0B,MAAMG,SAASJ,aAEtBK,cAAehG,GACbkE,KAAKL,YAAc7D,EACnBkE,KAAKW,WAAY,EACjB,IAAIK,EAAO,GAAEd,UAAcE,mBACvB2B,EAAa,OAEZ/B,KAAKR,QACRwB,EAAO,GAAEd,UAAcE,oBAAyBJ,KAAKL,YAAY1C,KACjE8E,EAAa,OAEf/B,KAAKiB,MAAMc,GAAYf,EAAK,CAAEtB,KAAMM,KAAKL,cACtCwB,MAAMC,IACLpB,KAAKW,WAAY,EACjBX,KAAKuB,kBAAkBH,EAAK,QAC5BpB,KAAK0B,MAAMC,aAAaK,YACxBhC,KAAKe,iBAENM,OAAOC,IACNtB,KAAKW,WAAY,EACjBX,KAAKuB,kBAAkBD,EAAK,YAGlCW,aACE,MAAMjB,EAAO,GAAEd,UAAcE,oBAAyBJ,KAAKL,YAAY1C,KACvE+C,KAAKW,WAAY,EACjBX,KAAKiB,MACFiB,OAAOlB,GACPG,MAAMC,IACLpB,KAAKW,WAAY,EACjBX,KAAKuB,kBAAkBH,EAAK,QAC5BpB,KAAK0B,MAAMG,SAASG,YACpBhC,KAAKe,iBAENM,OAAOC,IACNtB,KAAKW,WAAY,EACjBX,KAAKuB,kBAAkBD,EAAIE,SAAU,aAI7CW,UACEnC,KAAKe,gBGzKT,MAAM,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAASqB,KAEpE","sources":["webpack://vue-week-7/./src/views/AdminProducts.vue","webpack://vue-week-7/./src/components/ProductModal.vue","webpack://vue-week-7/./src/components/ProductModal.vue?b0ff","webpack://vue-week-7/./src/views/AdminProducts.vue?cec0"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <Loading :active=\"isLoading\" :z-index=\"1060\"></Loading>\n    <div class=\"text-end mt-4\">\n      <button class=\"btn btn-dark\" type=\"button\" @click=\"openModal(true)\">建立新產品</button>\n    </div>\n    <table class=\"table table-hover mt-4\">\n      <thead class=\"table-dark\">\n        <tr>\n          <th width=\"120\">分類</th>\n          <th>產品名稱</th>\n          <th width=\"120\">原價</th>\n          <th width=\"120\">售價</th>\n          <th width=\"120\">是否啟用</th>\n          <th width=\"120\">編輯</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr v-for=\"product in products\" :key=\"product.item\" :class=\"{'text-secondary': !product.is_enabled}\">\n          <td>{{ product.category }}</td>\n          <td>{{ product.title }}</td>\n          <td>{{ $filters.currency(product.origin_price) }}</td>\n          <td>{{ $filters.currency(product.price) }}</td>\n          <td>\n            <span v-if=\"product.is_enabled\" class=\"text-success\">啟用</span>\n            <span v-else class=\"text-muted\">未啟用</span>\n          </td>\n          <td>\n            <div class=\"btn-group\">\n              <button\n                type=\"button\"\n                class=\"btn btn-outline-primary btn-sm\"\n                @click=\"openModal(false, product)\"\n              >\n                編輯\n              </button>\n              <button\n                type=\"button\"\n                class=\"btn btn-outline-danger btn-sm\"\n                @click=\"openDelModal(product)\"\n              >\n                刪除\n              </button>\n            </div>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <!-- 分頁元件 -->\n    <PaginationCom\n      :pages=\"pagination\"\n      @emit-pages=\"getProducts\"\n    ></PaginationCom>\n    <!-- ProductModal:新增、編輯 -->\n    <ProductModal\n    :is-new=\"isNew\"\n    :product=\"tempProduct\"\n    @update-product=\"updateProduct\"\n    ref=\"productModal\">\n    </ProductModal>\n    <!-- DelModal:刪除 -->\n    <DelModal\n    :item=\"tempProduct\"\n    @del-item=\"delProduct\"\n    ref=\"delModal\">\n    </DelModal>\n  </div>\n</template>\n\n<script>\n// 匯入元件\nimport PaginationCom from '@/components/PaginationCom'\nimport ProductModal from '@/components/ProductModal'\nimport DelModal from '@/components/DelModal'\n\n// 環境變數\nconst apiUrl = process.env.VUE_APP_API\nconst apiPath = process.env.VUE_APP_PATH\n\nexport default {\n  // 元件\n  components: {\n    PaginationCom,\n    ProductModal,\n    DelModal\n  },\n  data () {\n    return {\n      // 存放產品資訊\n      products: [],\n      // 存放分頁資訊\n      pagination: {},\n      tempProduct: {},\n      isNew: false,\n      isLoading: false,\n      currentPage: 1\n    }\n  },\n  inject: ['emitter'],\n  methods: {\n    getProducts (currentPage = 1) {\n      this.currentPage = currentPage\n      const url = `${apiUrl}/api/${apiPath}/admin/products?page=${currentPage}`\n      this.isLoading = true\n      this.$http\n        .get(url)\n        .then((res) => {\n          this.products = res.data.products\n          this.pagination = res.data.pagination\n          this.isLoading = false\n        })\n        .catch((err) => {\n          this.isLoading = false\n          this.$httpMessageState(err.response, '錯誤訊息')\n        })\n    },\n    openModal (isNew, item) {\n      if (isNew) {\n        this.tempProduct = {\n          imagesUrl: []\n        }\n        this.isNew = true\n        this.$refs.productModal.openModal()\n      } else {\n        // 使用淺拷貝避免外層物件一起更動，以及避免單圖產品無法追加圖片\n        this.tempProduct = { imagesUrl: [], ...item }\n        this.isNew = false // 編輯模式\n        this.$refs.productModal.openModal()\n      }\n    },\n    openDelModal (item) {\n      this.tempProduct = { ...item }\n      this.$refs.delModal.openModal()\n    },\n    updateProduct (item) {\n      this.tempProduct = item\n      this.isLoading = true\n      let url = `${apiUrl}/api/${apiPath}/admin/product`\n      let httpMethod = 'post'\n\n      if (!this.isNew) {\n        url = `${apiUrl}/api/${apiPath}/admin/product/${this.tempProduct.id}`\n        httpMethod = 'put'\n      }\n      this.$http[httpMethod](url, { data: this.tempProduct })\n        .then((res) => {\n          this.isLoading = false\n          this.$httpMessageState(res, '產品更新')\n          this.$refs.productModal.hideModal()\n          this.getProducts()\n        })\n        .catch((err) => {\n          this.isLoading = false\n          this.$httpMessageState(err, '產品更新')\n        })\n    },\n    delProduct () {\n      const url = `${apiUrl}/api/${apiPath}/admin/product/${this.tempProduct.id}`\n      this.isLoading = true\n      this.$http\n        .delete(url)\n        .then((res) => {\n          this.isLoading = false\n          this.$httpMessageState(res, '產品刪除')\n          this.$refs.delModal.hideModal()\n          this.getProducts()\n        })\n        .catch((err) => {\n          this.isLoading = false\n          this.$httpMessageState(err.response, '產品刪除')\n        })\n    }\n  },\n  mounted () {\n    this.getProducts()\n  }\n}\n</script>\n","<template>\n<div\nid=\"productModal\"\nref=\"modal\"\nclass=\"modal fade\"\ntabindex=\"-1\"\naria-labelledby=\"productModalLabel\"\naria-hidden=\"true\"\nrole=\"dialog\">\n  <div class=\"modal-dialog modal-xl\">\n    <div class=\"modal-content border-0\">\n      <div class=\"modal-header bg-dark text-white\">\n        <h5 id=\"productModalLabel\" class=\"modal-title\">\n          <span v-if=\"isNew\">新增產品</span>\n          <span v-else>編輯產品</span>\n        </h5>\n        <button\n          type=\"button\"\n          class=\"btn-close\"\n          data-bs-dismiss=\"modal\"\n          aria-label=\"Close\"\n        ></button>\n      </div>\n      <div class=\"modal-body\">\n        <div class=\"row\">\n          <div class=\"col-sm-4\">\n            <div class=\"mb-2\">\n              <div class=\"mb-3\">\n                <label for=\"imageUrl\" class=\"form-label\">主要圖片網址</label>\n                <input\n                  id=\"imageUrl\"\n                  type=\"text\"\n                  class=\"form-control\"\n                  placeholder=\"請輸入圖片連結\"\n                  v-model=\"tempProduct.imageUrl\"\n                />\n               </div>\n              <img class=\"img-fluid\" :src=\"tempProduct.imageUrl\" alt=\"\" />\n            </div>\n            <div class=\"mb-3\">\n              <h3>多圖設置</h3>\n              <div v-if=\"Array.isArray(tempProduct.imagesUrl)\">\n                <template\n                  v-for=\"(img, key) in tempProduct.imagesUrl\"\n                  :key=\"key\"\n                >\n                  <input\n                    type=\"text\"\n                    class=\"form-control\"\n                    placeholder=\"請輸入圖片連結\"\n                    v-model=\"tempProduct.imagesUrl[key]\"\n                  />\n                  <img\n                    class=\"img-fluid\"\n                    :src=\"tempProduct.imagesUrl[key]\"\n                    alt=\"\"\n                  />\n                </template>\n                <!-- v-for (1)判斷 imagesUrl 中有無東西 (2)判斷框中有無輸入文字-->\n                <button\n                  v-if=\"\n                    !tempProduct.imagesUrl.length ||\n                    tempProduct.imagesUrl[tempProduct.imagesUrl.length - 1]\n                  \"\n                  type=\"button\"\n                  class=\"btn btn-primary w-100\"\n                  @click=\"tempProduct.imagesUrl.push('')\"\n                >\n                  新增連結\n                </button>\n                <button\n                  v-else\n                  type=\"button\"\n                  class=\"btn btn-outline-danger w-100\"\n                  @click=\"tempProduct.imagesUrl.pop()\"\n                >\n                  刪除最後一個\n                </button>\n              </div>\n            </div>\n          </div>\n          <div class=\"col-sm-8\">\n            <div class=\"mb-3\">\n              <label for=\"title\" class=\"form-label\">標題</label>\n              <input\n                id=\"title\"\n                type=\"text\"\n                class=\"form-control\"\n                placeholder=\"請輸入標題\"\n                v-model=\"tempProduct.title\"\n              />\n            </div>\n\n            <div class=\"row\">\n              <div class=\"mb-3 col-md-6\">\n                <label for=\"category\" class=\"form-label\">分類</label>\n                <input\n                  id=\"category\"\n                  type=\"text\"\n                  class=\"form-control\"\n                  placeholder=\"請輸入分類\"\n                  v-model=\"tempProduct.category\"\n                />\n              </div>\n              <div class=\"mb-3 col-md-6\">\n                <label for=\"price\" class=\"form-label\">單位</label>\n                <input\n                  id=\"unit\"\n                  type=\"text\"\n                  class=\"form-control\"\n                  placeholder=\"請輸入單位\"\n                  v-model=\"tempProduct.unit\"\n                />\n              </div>\n            </div>\n\n            <div class=\"row\">\n              <div class=\"mb-3 col-md-6\">\n                <label for=\"origin_price\" class=\"form-label\">原價</label>\n                <input\n                  id=\"origin_price\"\n                  type=\"number\"\n                  min=\"0\"\n                  class=\"form-control\"\n                  placeholder=\"請輸入原價\"\n                  v-model.number=\"tempProduct.origin_price\"\n                />\n              </div>\n              <div class=\"mb-3 col-md-6\">\n                <label for=\"price\" class=\"form-label\">售價</label>\n                <input\n                  id=\"price\"\n                  type=\"number\"\n                  min=\"0\"\n                  class=\"form-control\"\n                  placeholder=\"請輸入售價\"\n                  v-model.number=\"tempProduct.price\"\n                />\n              </div>\n            </div>\n            <hr />\n\n            <div class=\"mb-3\">\n              <label for=\"description\" class=\"form-label\">產品描述</label>\n              <textarea\n                id=\"description\"\n                type=\"text\"\n                class=\"form-control\"\n                placeholder=\"請輸入產品描述\"\n                v-model=\"tempProduct.description\"\n              >\n              </textarea>\n            </div>\n            <div class=\"mb-3\">\n              <label for=\"content\" class=\"form-label\">說明內容</label>\n              <textarea\n                id=\"description\"\n                type=\"text\"\n                class=\"form-control\"\n                placeholder=\"請輸入說明內容\"\n                v-model=\"tempProduct.content\"\n              >\n              </textarea>\n            </div>\n            <div class=\"mb-3\">\n              <div class=\"form-check\">\n                <input\n                  id=\"is_enabled\"\n                  class=\"form-check-input\"\n                  type=\"checkbox\"\n                  :true-value=\"1\"\n                  :false-value=\"0\"\n                  v-model=\"tempProduct.is_enabled\"\n                />\n                <label class=\"form-check-label\" for=\"is_enabled\"\n                  >是否啟用</label\n                >\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"modal-footer\">\n        <button\n          type=\"button\"\n          class=\"btn btn-outline-secondary\"\n          data-bs-dismiss=\"modal\"\n        >\n          取消\n        </button>\n        <button type=\"button\" class=\"btn btn-primary\" @click=\"$emit('update-product', tempProduct)\">\n          確認\n        </button>\n      </div>\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nimport modalMixin from '@/mixins/modalMixin'\n\nexport default {\n  props: {\n    product: {\n      type: Object,\n      default () {\n        return {}\n      }\n    },\n    isNew: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data () {\n    return {\n      tempProduct: {\n        imagesUrl: []\n      }\n    }\n  },\n  emits: ['update-product'],\n  mixins: [modalMixin],\n  watch: {\n    product () {\n      this.tempProduct = this.product\n    }\n  }\n}\n</script>\n","import { render } from \"./ProductModal.vue?vue&type=template&id=574b59ec\"\nimport script from \"./ProductModal.vue?vue&type=script&lang=js\"\nexport * from \"./ProductModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\VueCliTest\\\\vue-week-7\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./AdminProducts.vue?vue&type=template&id=6aa445bc\"\nimport script from \"./AdminProducts.vue?vue&type=script&lang=js\"\nexport * from \"./AdminProducts.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\VueCliTest\\\\vue-week-7\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","width","_createElementBlock","_createVNode","_component_Loading","active","$data","type","onClick","$options","_hoisted_4","_Fragment","_renderList","product","key","item","is_enabled","_toDisplayString","category","title","_ctx","currency","origin_price","price","_hoisted_8","_hoisted_9","_component_PaginationCom","pages","onEmitPages","_component_ProductModal","onUpdateProduct","ref","_component_DelModal","onDelItem","id","tabindex","role","for","$props","_hoisted_6","_hoisted_7","_hoisted_14","placeholder","imageUrl","$event","src","alt","_hoisted_17","Array","isArray","imagesUrl","_hoisted_18","img","length","push","pop","_hoisted_23","_hoisted_26","_hoisted_28","unit","_hoisted_31","min","_hoisted_33","_hoisted_34","_hoisted_36","description","_hoisted_38","content","_hoisted_41","_hoisted_43","props","Object","default","isNew","Boolean","data","tempProduct","emits","mixins","modalMixin","watch","this","__exports__","apiUrl","process","apiPath","components","PaginationCom","ProductModal","DelModal","products","pagination","isLoading","currentPage","inject","methods","getProducts","url","$http","get","then","res","catch","err","$httpMessageState","response","openModal","$refs","productModal","openDelModal","delModal","updateProduct","httpMethod","hideModal","delProduct","delete","mounted","render"],"sourceRoot":""}