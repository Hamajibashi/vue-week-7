{"version":3,"file":"js/866.8e616f9f.js","mappings":"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","sources":["webpack://vue-week-7/./src/views/DashboardView.vue","webpack://vue-week-7/./src/components/BackNavbar.vue","webpack://vue-week-7/./src/components/BackNavbar.vue?3427","webpack://vue-week-7/./src/components/ToastMessages.vue","webpack://vue-week-7/./src/components/ToastMessages.vue?2a51","webpack://vue-week-7/./src/views/DashboardView.vue?7280"],"sourcesContent":["<template>\n  <BackNavbar></BackNavbar>\n  <ToastMessages></ToastMessages>\n  <router-view v-if=\"checkSuccess\"></router-view>\n</template>\n\n<script>\nimport emitter from '@/methods/eventBus.js'\nimport BackNavbar from '@/components/BackNavbar.vue'\nimport ToastMessages from '@/components/ToastMessages'\n\nexport default {\n  components: {\n    BackNavbar,\n    ToastMessages\n  },\n  data () {\n    return {\n      checkSuccess: false\n    }\n  },\n  provide () {\n    return {\n      emitter\n    }\n  },\n  methods: {\n    checkLogin () {\n      const token = document.cookie.replace(/(?:(?:^|.*;\\s*)hexToken\\s*=\\s*([^;]*).*$)|^.*$/, '$1')\n      if (token) {\n        this.$http.defaults.headers.common.Authorization = token\n\n        const api = `${process.env.VUE_APP_API}/api/user/check`\n        this.$http.post(api, { api_token: this.token })\n          .then(() => {\n            this.checkSuccess = true\n          })\n          .catch((err) => {\n            alert(err.data.message)\n            this.$router.push('/login')\n          })\n      } else {\n        alert('您尚未登入')\n        this.$router.push('/login')\n      }\n    }\n  },\n  mounted () {\n    this.checkLogin()\n  }\n}\n</script>\n","<template>\n  <nav class=\"navbar navbar-expand-lg navbar-dark bg-dark\">\n    <div class=\"container-fluid\">\n      <router-link class=\"navbar-brand\" to=\"/admin\">後台</router-link>\n      <button\n        class=\"navbar-toggler\"\n        type=\"button\"\n        data-bs-toggle=\"collapse\"\n        data-bs-target=\"#navbarNav\"\n        aria-controls=\"navbarNav\"\n        aria-expanded=\"false\"\n        aria-label=\"Toggle navigation\"\n      >\n        <span class=\"navbar-toggler-icon\"></span>\n      </button>\n      <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\n        <ul class=\"navbar-nav\">\n          <li class=\"nav-item\">\n            <router-link to=\"/admin/products\" class=\"nav-link\">產品</router-link>\n          </li>\n          <li class=\"nav-item\">\n            <router-link to=\"/admin/orders\" class=\"nav-link\">訂單</router-link>\n          </li>\n          <li class=\"nav-item\">\n            <a href=\"#\" class=\"nav-link\" @click.prevent=\"logout\">登出</a>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </nav>\n</template>\n\n<script>\nexport default {\n  methods: {\n    logout () {\n      const url = `${process.env.VUE_APP_API}/logout`\n      this.$http.post(url)\n        .then(() => {\n          alert('登出成功')\n          this.$router.push('/')\n        })\n        .catch(() => {\n          alert('登出失敗')\n        })\n    }\n  }\n}\n</script>\n","import { render } from \"./BackNavbar.vue?vue&type=template&id=6d1fda41\"\nimport script from \"./BackNavbar.vue?vue&type=script&lang=js\"\nexport * from \"./BackNavbar.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\VueCliTest\\\\vue-week-7\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <div class=\"toast-container position-fixed pe-3 top-10 end-0\" style=\"z-index:1500\">\n    <div\n    v-for=\"(msg, key) in messages\"\n    :key=\"key\"\n    class=\"toast show\"\n    :class=\"`toast${key}`\"\n    role=\"alert\">\n      <div class=\"toast-header\">\n        <span :class=\"`bg-${msg.style}`\"\n        class=\"p-2 rounded me-2 d-inline-block\"></span>\n        <strong class=\"me-auto\">{{ msg.title }}</strong>\n        <button\n          type=\"button\"\n          class=\"btn-close\"\n          @click=\"clearToast(key)\"\n          data-bs-dismiss=\"toast\"\n          aria-label=\"Close\"\n        ></button>\n      </div>\n      <div class=\"toast-body\" v-if=\"msg.content\">\n        {{ msg.content }}\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      messages: []\n    }\n  },\n  inject: ['emitter'],\n  methods: {\n    toastShow () {\n      setTimeout(() => {\n        this.messages.shift()\n      }, 6000)\n    },\n    clearToast (index) {\n      this.messages.splice(index, 1)\n    }\n  },\n  mounted () {\n    this.emitter.on('push-message', (message) => {\n      const { style = 'success', title, content } = message\n      this.messages.push({ style, title, content })\n      this.toastShow()\n    })\n  }\n}\n</script>\n","import { render } from \"./ToastMessages.vue?vue&type=template&id=38b6f008\"\nimport script from \"./ToastMessages.vue?vue&type=script&lang=js\"\nexport * from \"./ToastMessages.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\VueCliTest\\\\vue-week-7\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./DashboardView.vue?vue&type=template&id=327fd840\"\nimport script from \"./DashboardView.vue?vue&type=script&lang=js\"\nexport * from \"./DashboardView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\VueCliTest\\\\vue-week-7\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createVNode","_component_BackNavbar","_component_ToastMessages","$data","_createBlock","_component_router_view","key","class","_createElementVNode","type","id","_createElementBlock","_component_router_link","to","_hoisted_4","href","onClick","$options","methods","logout","url","this","$http","post","then","alert","$router","push","catch","__exports__","style","_Fragment","_renderList","msg","role","_toDisplayString","title","content","data","messages","inject","toastShow","setTimeout","shift","clearToast","index","splice","mounted","emitter","on","message","components","BackNavbar","ToastMessages","checkSuccess","provide","checkLogin","token","document","cookie","replace","defaults","headers","common","Authorization","api","api_token","err","render"],"sourceRoot":""}